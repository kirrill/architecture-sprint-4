# Выбор и настройка мониторинга в системе
## Мотивация
Мониторинг необходим, чтобы реагировать на проблемы системы заранее, т.е. до наступления проблемы, а не по факту, уже после обращений пользователей. Это позовляет не только повысить досупность системы, но также повысить и лояльность пользователей системы.

Также мониторинг позволит решить проблему с поиском узкого места в системе из-за которого теряются заказы.

## Выбор подхода к мониторингу

RED - будет использоваться для мониторинга API-сервисов (в частности MES), т.к. позволит нам отслеживать частоту запросов к API (R), кол-во ошибочных запросов (E), а также длительность запроса (D)
    
## Метрики для отслеживания

Для решения проблемы с производительностью API MES понадобятся следующие метрики

* Number of requests (RPS) for MES API - позволит понять общее кол-во запросов в секунду поступающее к API
* CPU % for MES API - позволит определить упираемся ли мы в производительность процессора
* Memory Utilisation for MES API - позволит определить упираемся ли мы в ограничения по памяти
* Memory Utilisation for MES db instance - позволит определить упираемся ли мы в ограничения по памяти на инстансе БД
* Number of connections for MES db instance - позволит понять, какое кол-во соединений к БД мы имеем
* Response time (latency) for MES API - позволит опеределить длительность обработки запросов
* Size of S3 storage - позволит вовремя обнаружить проблему с нехваткой места в S3 хранилище
* Number of HTTP 200 for MES API / Number of HTTP 500 for MES API - позволит определить кол-во успешных и ошибочных сообщений
* Number of simultanious sessions for MES API - позволит определить кол-во одновременных 
* Kb tranferred (received) for MES API / Kb provided (sent) for MES API - данные метрики позволят определить размер передаваемых в MES API запросов

Почти все вышеперечисленные метрики имеет смысл рассматривать вместе с метриками Number of requests (RPS) for MES API и  Kb tranferred/proided (received) for MES API, т.к. необходимо проанализировать где будет узкое место при увеличении кол-ва запросов или размера запросов.

## План действий
Поднять и настроить инстанс Prometheus для сбора и хранения обозначенных выше метрик

Поднять и настроить инстанс Grafana для визуального представления на дашборде